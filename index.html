<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Bird Watch Arcade ü¶©</title>

  <!-- PostHog -->
  <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog&&window.posthog.__loaded)||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init ts ns yi rs os Qr es capture Hi calculateEventProperties hs register register_once register_for_session unregister unregister_for_session fs getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSurveysLoaded onSessionId getSurveys getActiveMatchingSurveys renderSurvey displaySurvey cancelPendingSurvey canRenderSurvey canRenderSurveyAsync identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException startExceptionAutocapture stopExceptionAutocapture loadToolbar get_property getSessionProperty vs us createPersonProfile cs Yr ps opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing get_explicit_consent_status is_capturing clear_opt_in_out_capturing ls debug O ds getPageViewId captureTraceFeedback captureTraceMetric Vr".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);

    posthog.init("phc_DQJyMgMb9vXZWTjaEnrZ5ANFvxuw0u9VOsqBTZy8XDM", {
      api_host: "https://us.i.posthog.com",
      defaults: "2025-11-30",
      person_profiles: "identified_only",
      autocapture: false,
      capture_pageview: true
    });
  </script>

  <style>
    :root{
      --bg1:#fff6fb; --bg2:#eef7ff; --card:rgba(255,255,255,.75);
      --stroke:rgba(30,41,59,.12); --text:#0f172a; --muted:rgba(15,23,42,.65);
      --shadow:0 18px 55px rgba(15,23,42,.12); --radius:20px;
    }
    *{box-sizing:border-box}
    body{
      margin:0; min-height:100vh;
      font-family:system-ui,-apple-system,Segoe UI,Roboto;
      background:
        radial-gradient(1200px 700px at 15% 10%,var(--bg1),transparent 60%),
        radial-gradient(900px 600px at 80% 20%,var(--bg2),transparent 60%),
        linear-gradient(180deg,#fff,#f7f7ff);
      display:grid; place-items:center; padding:16px;
      color:var(--text);
    }
    .wrap{width:min(560px,100%)}
    h1{margin:0;font-size:22px}
    .rules{font-size:13.5px;color:var(--muted);margin-top:6px}

    .hud{
      display:grid; grid-template-columns:repeat(3,1fr);
      gap:10px; margin:14px 0;
    }
    .pill{
      background:var(--card); border:1px solid var(--stroke);
      border-radius:999px; padding:10px;
      display:flex; gap:6px; justify-content:center;
      font-weight:700;
    }

    .panel{
      background:var(--card); border:1px solid var(--stroke);
      border-radius:var(--radius); padding:14px;
      box-shadow:var(--shadow); backdrop-filter:blur(10px);
      position:relative;
    }

    .topbar{display:flex;justify-content:space-between;align-items:center}
    .btn{
      border:1px solid rgba(99,102,241,.25);
      background:linear-gradient(180deg,#fff,#f3f4ff);
      padding:10px 12px;border-radius:12px;
      font-weight:800; cursor:pointer;
    }
    .btn[disabled]{opacity:.5; cursor:not-allowed}
    .btn.secondary{
      border-color:rgba(15,23,42,.18);
      background:linear-gradient(180deg,#fff,#f1f5f9);
      font-size:12px; padding:8px 10px;
    }
    .status{font-size:13px;color:var(--muted)}
    .fever-indicator{
      margin-left:10px;
      padding:6px 10px;
      border-radius:999px;
      font-size:11px;
      font-weight:900;
      letter-spacing:.6px;
      background:rgba(251,191,36,.18);
      border:1px solid rgba(251,191,36,.5);
      color:#b45309;
      display:none;
    }
    .fever-indicator.show{display:inline-flex}
    .fever-indicator.pulse{animation:feverPulse .9s ease-in-out infinite}
    @keyframes feverPulse{
      0%,100%{transform:scale(1); box-shadow:0 0 0 rgba(251,191,36,.35)}
      50%{transform:scale(1.06); box-shadow:0 0 16px rgba(251,191,36,.6)}
    }
    .consent{font-size:12.5px;color:var(--muted);margin-top:8px}
    .namebar{
      display:flex; gap:8px; align-items:center;
      margin-top:10px; font-size:12.5px; color:var(--muted);
      flex-wrap:wrap;
    }
    .namebar .btn{
      padding:6px 8px; border-radius:10px;
      font-size:12px; font-weight:700;
    }
    .namebar input{
      padding:6px 8px; border-radius:10px;
      border:1px solid var(--stroke);
      background:rgba(255,255,255,.85);
      font-size:12px;
      min-width:180px;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:12px; margin-top:12px;
    }

    .tile{
      height:84px; border-radius:16px;
      background:rgba(255,255,255,.7);
      border:1px solid var(--stroke);
      display:grid; place-items:center;
      position:relative; cursor:pointer;
      transition:transform .12s;
      overflow:hidden;
      user-select:none;
    }
    .tile:active{transform:scale(.97)}
    .emoji{font-size:34px}

    .tag{
      position:absolute; bottom:6px; left:8px;
      font-size:11px; font-weight:800;
      background:rgba(255,255,255,.6);
      padding:4px 8px; border-radius:999px;
    }

    .floaty{
      position:absolute; left:50%; top:50%;
      transform:translate(-50%,-50%);
      font-weight:900;
      animation:floatUp .65s ease-out forwards;
      pointer-events:none;
      text-shadow:0 8px 18px rgba(15,23,42,.18);
    }
    .floaty.negative{color:#b91c1c}

    @keyframes floatUp{
      0%{opacity:0;transform:translate(-50%,-30%) scale(.98)}
      15%{opacity:1}
      100%{opacity:0;transform:translate(-50%,-120%) scale(1.04)}
    }

    .shake{animation:shake .42s ease-in-out}
    @keyframes shake{
      0%,100%{transform:translateX(0)}
      20%{transform:translateX(-6px)}
      40%{transform:translateX(6px)}
      60%{transform:translateX(-4px)}
      80%{transform:translateX(4px)}
    }

    .overlay{
      position:absolute; inset:0;
      display:grid; place-items:center;
      font-size:28px; font-weight:900; letter-spacing:.5px;
      color:#111827;
      background:rgba(255,255,255,.6);
      opacity:0; pointer-events:none;
      transform:scale(.98);
    }
    .overlay.show{animation:gameOverPop 1.2s ease-out forwards}
    @keyframes gameOverPop{
      0%{opacity:0;transform:scale(.96)}
      10%{opacity:1}
      80%{opacity:1}
      100%{opacity:0;transform:scale(1.03)}
    }

    .effects{
      position:fixed; inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:50;
    }
    .easter-banner{
      position:absolute; left:50%; top:50%;
      transform:translate(-50%,-50%) scale(.95);
      background:rgba(255,255,255,.92);
      border:1px solid var(--stroke);
      box-shadow:0 18px 40px rgba(15,23,42,.18);
      padding:16px 18px;
      border-radius:18px;
      font-size:20px; font-weight:900;
      font-family:"Copperplate","Palatino Linotype","Georgia",serif;
      letter-spacing:.6px;
      text-align:center;
      opacity:0;
    }
    .easter-banner.show{animation:bannerPop 6s ease-in-out forwards}
    @keyframes bannerPop{
      0%{opacity:0;transform:translate(-50%,-50%) scale(.9)}
      12%{opacity:1;transform:translate(-50%,-50%) scale(1)}
      85%{opacity:1}
      100%{opacity:0;transform:translate(-50%,-50%) scale(1.02)}
    }
    #rain{
      position:relative;
      width:100%;
      height:100%;
    }
    .rain-item{
      position:absolute; top:-10%;
      animation:rainFall linear forwards;
      text-shadow:0 10px 22px rgba(15,23,42,.2);
    }
    .rain-item img{display:block}
    @keyframes rainFall{
      to{transform:translateY(120vh) rotate(20deg)}
    }
    .fever-flame{
      position:absolute; left:50%; top:50%;
      transform:translate(-50%,-50%);
      font-size:140px;
      opacity:0;
      animation:feverBurst 2.2s ease-out forwards;
      filter:drop-shadow(0 18px 30px rgba(15,23,42,.25));
    }
    @keyframes feverBurst{
      0%{opacity:0;transform:translate(-50%,-40%) scale(.7)}
      15%{opacity:1;transform:translate(-50%,-50%) scale(1)}
      100%{opacity:0;transform:translate(-50%,-60%) scale(1.4)}
    }
  </style>
</head>

<body>
<div class="wrap">
  <h1>Bird Watch Arcade ü¶©</h1>
  <div class="rules">
    Tap birds to score. Birds vary in points. ü™∫ doubles your last bird click (no dodo). üêç resets your score. Rare ü¶§ gives 3x your last bird points.
  </div>

  <div class="hud">
    <div class="pill">Score <span id="score">0</span></div>
    <div class="pill">Time <span id="time">30</span>s</div>
    <div class="pill">Last <span id="last">‚Äî</span></div>
  </div>

  <div class="panel">
    <div class="topbar">
      <div>
        <button class="btn" id="start">Start (30s)</button>
      </div>
      <div>
        <span class="status" id="status">Ready.</span>
        <span class="fever-indicator" id="feverIndicator">FEVER</span>
      </div>
    </div>
    <div class="consent">
      Optional: enter a name to appear on the leaderboard. We only create a PostHog person profile when you do.
    </div>
    <div class="namebar">
      <div id="nameLabel">Playing as Guest</div>
      <input id="nameInput" type="text" placeholder="Enter name (optional)" maxlength="24" />
      <button class="btn" id="nameBtn">Save name</button>
      <button class="btn" id="anonBtn">Guest mode</button>
      <a class="btn" id="leaderboardBtn" href="https://us.posthog.com/embedded/xf1YTaMVIL5JKMw87qQl4rki_VU9qA" target="_blank" rel="noopener noreferrer">Leaderboard</a>
    </div>
    <div class="overlay" id="gameover">Game Over</div>
    <div class="grid" id="grid"></div>
  </div>
</div>
<div class="effects" id="effects">
  <div class="easter-banner" id="easterBanner">I have had it with these mother@#$%! snakes on this mother@#$%! plane!</div>
  <div id="rain"></div>
</div>

<script>
  const GAME_SECONDS = 30
  const POINTS = {
    flamingo:25,
    dove:9,
    duck:11,
    eagle:20,
    owl:13,
    parrot:15,
    swan:18,
    goose:12,
    crow:14
  }
  const DODO_MULTIPLIER = 3
  const DODO_CHANCE = 0.05
  const SNAKE_STREAK_FOR_CHEAT = 28
  const RAIN_DURATION_MS = 9000
  const RAIN_INTERVAL_MS = 160
  const FEVER_DURATION_MS = 10000
  const FEVER_BIRD_BONUS = 1.5
  const FEVER_NEST_MULTIPLIER = 5
  const DODO_TIME_BONUS = 5

  let score=0, timeLeft=GAME_SECONDS, playing=false
  let lastBirdPoints=0, lastPointsAwarded=0, lastThing='‚Äî', timer=null
  let animating=false
  let snakeStreak=0, cheatUsed=false
  let feverUntil=0, feverTimer=null, feverPulseTimer=null

  const $=id=>document.getElementById(id)
  const scoreEl=$('score'), timeEl=$('time'), lastEl=$('last')
  const gridEl=$('grid'), statusEl=$('status'), startBtn=$('start')
  const gameOverEl=$('gameover')
  const rainEl=$('rain')
  const easterBannerEl=$('easterBanner')
  const feverIndicatorEl=$('feverIndicator')
  const nameLabelEl=$('nameLabel')
  const nameBtn=$('nameBtn')
  const anonBtn=$('anonBtn')
  const nameInput=$('nameInput')
  const leaderboardBtn=$('leaderboardBtn')

  function capturePH(e,p){
    if(window.posthog?.capture) window.posthog.capture(e,p||{})
  }

  function getUsername(){
    return (localStorage.getItem('birdwatch_username') || '').trim()
  }

  function updateNameLabel(){
    const name=getUsername()
    nameLabelEl.textContent = name ? `Name: ${name}` : 'Playing as Guest'
  }

  function setAnonymous(){
    localStorage.removeItem('birdwatch_username')
    localStorage.removeItem('birdwatch_identified')
    updateNameLabel()
    nameInput.value = ''
    if(window.posthog?.reset) posthog.reset()
  }

  function ensureIdentified(name){
    if(!name || !window.posthog?.identify) return
    const wasIdentified = localStorage.getItem('birdwatch_identified') === '1'
    if(wasIdentified) return
    const distinctId = posthog.get_distinct_id()
    posthog.identify(distinctId, {
      player_name: name,
      first_play_date: new Date().toISOString()
    })
    localStorage.setItem('birdwatch_identified', '1')
  }

  function getStoredInt(key,fallback=0){
    const v=parseInt(localStorage.getItem(key),10)
    return Number.isFinite(v)?v:fallback
  }

  function setStoredInt(key,value){
    localStorage.setItem(key,String(value))
  }

  function pop(tile,text,neg){
    const f=document.createElement('div')
    f.className='floaty'+(neg?' negative':'')
    f.textContent=text
    tile.appendChild(f)
    setTimeout(()=>f.remove(),650)
  }

  function shake(el){
    el.classList.remove('shake')
    void el.offsetWidth
    el.classList.add('shake')
    setTimeout(()=>el.classList.remove('shake'),420)
  }

  function showGameOver(){
    gameOverEl.classList.remove('show')
    void gameOverEl.offsetWidth
    gameOverEl.classList.add('show')
  }

  function showFeverFlame(){
    const flame=document.createElement('div')
    flame.className='fever-flame'
    flame.textContent='üî•'
    rainEl.appendChild(flame)
    setTimeout(()=>flame.remove(),2200)
  }

  function startFever(){
    feverUntil=Date.now()+FEVER_DURATION_MS
    showFeverFlame()
    feverIndicatorEl.classList.add('show')
    feverIndicatorEl.classList.remove('pulse')
    capturePH('fever_started',{score_at_start:score,time_left:timeLeft})
    render()
    if(feverTimer) clearTimeout(feverTimer)
    if(feverPulseTimer) clearTimeout(feverPulseTimer)
    feverPulseTimer=setTimeout(()=>{
      if(isFeverActive()) feverIndicatorEl.classList.add('pulse')
    },Math.max(0,FEVER_DURATION_MS-5000))
    const remaining=Math.max(0,feverUntil-Date.now())
    feverTimer=setTimeout(()=>{
      feverIndicatorEl.classList.remove('show')
      feverIndicatorEl.classList.remove('pulse')
      capturePH('fever_ended',{score_at_end:score,time_left:timeLeft})
      if(playing) render()
    },remaining+20)
  }

  function isFeverActive(){
    return Date.now()<feverUntil
  }

  function endGame(reason){
    playing=false
    clearInterval(timer)
    startBtn.disabled=false
    if(feverTimer) clearTimeout(feverTimer)
    if(feverPulseTimer) clearTimeout(feverPulseTimer)
    feverIndicatorEl.classList.remove('show')
    feverIndicatorEl.classList.remove('pulse')
    feverUntil=0
    const message = reason === 'cheat' ? `Cheat unlocked! Score: ${score}` : `Game over. Score: ${score}`
    statusEl.textContent = message
    if(reason === 'cheat'){
      gameOverEl.textContent = 'Game Over'
    }else{
      gameOverEl.textContent = 'Game Over'
      showGameOver()
    }
    const prevHigh=getStoredInt('birdwatch_high_score',0)
    const nextHigh=Math.max(prevHigh,score)
    setStoredInt('birdwatch_high_score',nextHigh)
    const gamesPlayed=getStoredInt('birdwatch_games_played',0)+1
    setStoredInt('birdwatch_games_played',gamesPlayed)
    const endProps={final_score:score, reason}
    const trimmedName = getUsername()
    if(trimmedName){
      endProps.$set={
        last_score:score,
        high_score:nextHigh,
        games_played_count:gamesPlayed
      }
    }
    capturePH('game_over',endProps)
  }

  function deal(){
    const birds=[
      {k:'dove',e:'üïäÔ∏è',p:POINTS.dove},
      {k:'duck',e:'ü¶Ü',p:POINTS.duck},
      {k:'eagle',e:'ü¶Ö',p:POINTS.eagle},
      {k:'owl',e:'ü¶â',p:POINTS.owl},
      {k:'parrot',e:'ü¶ú',p:POINTS.parrot},
      {k:'swan',e:'ü¶¢',p:POINTS.swan},
      {k:'goose',e:'ü™ø',p:POINTS.goose},
      {k:'crow',e:'üê¶‚Äç‚¨õ',p:POINTS.crow}
    ]
    const tiles=[
      {k:'flamingo',e:'ü¶©',l:`+${POINTS.flamingo}`},
      {k:'nest',e:'ü™∫',l:'x2'},
      {k:'snake',e:'üêç',l:'reset'},
    ]
    for(let i=0;i<6;i++){
      const b=birds[Math.floor(Math.random()*birds.length)]
      tiles.push({k:b.k,e:b.e,l:`+${b.p}`})
    }
    if(Math.random()<DODO_CHANCE){
      const replaceIndex=3+Math.floor(Math.random()*6)
      tiles[replaceIndex]={k:'dodo',e:'ü¶§',l:`x${DODO_MULTIPLIER}`}
    }
    return tiles.sort(()=>Math.random()-.5)
  }

  let tiles=deal()

  function render(){
    gridEl.innerHTML=''
    const fever=isFeverActive()
    tiles.forEach(t=>{
      const d=document.createElement('div')
      d.className='tile'
      let label=t.l
      if(fever){
        if(t.k==='nest'){
          label=`x${FEVER_NEST_MULTIPLIER}`
        }else if(POINTS[t.k]){
          label=`+${Math.round(POINTS[t.k]*FEVER_BIRD_BONUS)}`
        }
      }
      d.innerHTML=`<div class="emoji">${t.e}</div><div class="tag">${label}</div>`
      d.onclick=()=>clickTile(d,t)
      gridEl.appendChild(d)
    })
  }

  function clickTile(el,t){
    if(!playing || animating) return
    animating=true

    if(t.k==='snake'){
      score=0; lastBirdPoints=0; lastPointsAwarded=0; lastThing='üêç reset'
      snakeStreak+=1
      shake(el); pop(el,'RESET',true)
      capturePH('tap_snake',{score_after:0})
      if(snakeStreak>=SNAKE_STREAK_FOR_CHEAT && !cheatUsed){
        cheatUsed=true
        score=5000
        lastThing='üêç cheat +5000'
        triggerSnakeEasterEgg()
        capturePH('snake_cheat_unlocked',{score_after:score})
        endGame('cheat')
      }
    }
    else if(t.k==='nest'){
      snakeStreak=0
      const multiplier=isFeverActive()?FEVER_NEST_MULTIPLIER:2
      const pts=lastBirdPoints*multiplier||0
      score+=pts; lastPointsAwarded=pts; lastThing=`ü™∫ +${pts}`
      pop(el,'+'+pts)
      capturePH('tap_nest',{points:pts,score_after:score,fever_active:isFeverActive()})
    }
    else if(t.k==='dodo'){
      snakeStreak=0
      const pts=Math.round(lastBirdPoints*DODO_MULTIPLIER)
      score+=pts; lastPointsAwarded=pts; lastThing=`ü¶§ +${pts}`
      pop(el,'+'+pts)
      timeLeft+=DODO_TIME_BONUS
      startFever()
      capturePH('tap_dodo',{points:pts,score_after:score,time_bonus_s:DODO_TIME_BONUS})
    }
    else{
      snakeStreak=0
      const base=POINTS[t.k]||0
      const feverBoost=isFeverActive()?FEVER_BIRD_BONUS:1
      const boosted=Math.round(base*feverBoost)
      score+=boosted; lastBirdPoints=base; lastPointsAwarded=boosted
      lastThing=`${t.e} +${boosted}`
      pop(el,'+'+boosted)
      capturePH('tap_bird',{bird:t.k,score_after:score,fever_active:isFeverActive()})
    }

    update()
    setTimeout(()=>{
      if(playing){
        tiles=deal()
        render()
      }
      animating=false
    },250)
  }

  function update(){
    scoreEl.textContent=score
    timeEl.textContent=timeLeft
    lastEl.textContent=lastThing
  }

  function start(){
    if(playing) return
    const trimmedName = getUsername()
    ensureIdentified(trimmedName)
    playing=true; score=0; timeLeft=GAME_SECONDS; lastBirdPoints=0; lastPointsAwarded=0; lastThing='‚Äî'
    snakeStreak=0; cheatUsed=false
    feverUntil=0
    if(feverTimer) clearTimeout(feverTimer)
    feverIndicatorEl.classList.remove('show')
    if(feverPulseTimer) clearTimeout(feverPulseTimer)
    feverIndicatorEl.classList.remove('pulse')
    update(); statusEl.textContent='Go!'
    startBtn.disabled=true
    capturePH('game_start',{duration_s:GAME_SECONDS})

    clearInterval(timer)
    timer=setInterval(()=>{
      timeLeft--; update()
      if(timeLeft<=0){
        endGame('time')
      }
    },1000)
  }

  startBtn.onclick=start
  nameBtn.onclick=()=>{
    const trimmed = nameInput.value.trim()
    if(trimmed){
      const current = getUsername()
      const wasIdentified = localStorage.getItem('birdwatch_identified') === '1'
      if(wasIdentified && current && current !== trimmed && window.posthog?.reset){
        posthog.reset()
        localStorage.removeItem('birdwatch_identified')
      }
      localStorage.setItem('birdwatch_username', trimmed)
    }
    updateNameLabel()
    ensureIdentified(trimmed)
  }
  anonBtn.onclick=setAnonymous
  leaderboardBtn.onclick=()=>capturePH('leaderboard_opened',{source:'namebar'})
  updateNameLabel()
  render(); update()

  function triggerSnakeEasterEgg(){
    easterBannerEl.classList.remove('show')
    void easterBannerEl.offsetWidth
    easterBannerEl.classList.add('show')
    const duration=RAIN_DURATION_MS
    const interval=RAIN_INTERVAL_MS
    const endAt=Date.now()+duration
    const rainItems=[
      {type:'img',value:'assets/SLJ-1.png'},
      {type:'img',value:'assets/SLJ-2.png'},
      {type:'img',value:'assets/SLJ-3.png'},
      {type:'img',value:'assets/snakes-on-plane.png'},
      {type:'emoji',value:'üêç'},
      {type:'emoji',value:'üéâ'}
    ]
    const spawn=()=>{
      const item=rainItems[Math.floor(Math.random()*rainItems.length)]
      const el=document.createElement('div')
      el.className='rain-item'
      const size=36+Math.random()*26
      el.style.left=`${Math.random()*100}%`
      el.style.animationDuration=`${2.6+Math.random()*2.2}s`
      if(item.type==='img'){
        const img=document.createElement('img')
        img.src=item.value
        img.alt='rain'
        img.style.width=`${size+8}px`
        img.style.height='auto'
        el.appendChild(img)
      }else{
        el.style.fontSize=`${size}px`
        el.textContent=item.value
      }
      rainEl.appendChild(el)
      setTimeout(()=>el.remove(),4600)
    }
    const timer=setInterval(()=>{
      if(Date.now()>=endAt){
        clearInterval(timer)
        return
      }
      spawn()
      spawn()
    },interval)
  }
</script>
</body>
</html>
